# Source: https://github.com/networkupstools/nut/issues/646#issuecomment-939439743

# Not sure what changes they made in the latest stable debian bullseye
# using nut-server 2.7.4 version, but these ups are now using the MGE HID
# driver version, previous was the Liebert driver which wasn't stable and
# missing a load of features, like battery test. So far my following config
# works and is stable:

# maxretry = 3
# pollinterval = 20
# user = nut
# [powerwalker-650]
#   driver = usbhid-ups
#   port = auto
#   desc = "PowerWalker VI 650 SH"
#   vendorid = 06da
#   bus = "003"
#   override.battery.charge.warning = 30
#   override.battery.charge.low = 15
#   override.battery.runtime.low = 180
#   override.ups.model = "PowerWalker VI 650 SH"
#   override.driver.parameter.pollfreq = 40

# upsmon.conf
#   POLLFREQ 20
#   POLLFREQALERT 10
#   DEADTIME 60 ( 3x the POLLFREQ)

# upsd.conf
#   MAXAGE 40

# :; upscmd -l powerwalker-650
# Instant commands supported on UPS [powerwalker-650]:
# beeper.disable - Disable the UPS beeper
# beeper.enable - Enable the UPS beeper
# beeper.mute - Temporarily mute the UPS beeper
# beeper.off - Obsolete (use beeper.disable or beeper.mute)
# beeper.on - Obsolete (use beeper.enable)
# load.off - Turn off the load immediately
# load.off.delay - Turn off the load with a delay (seconds)
# load.on - Turn on the load immediately
# load.on.delay - Turn on the load with a delay (seconds)
# shutdown.return - Turn off the load and return when power is back
# shutdown.stayoff - Turn off the load and remain off
# shutdown.stop - Stop a shutdown in progress
# test.battery.start.deep - Start a deep battery test
# test.battery.start.quick - Start a quick battery test
# test.battery.stop - Stop the battery test

